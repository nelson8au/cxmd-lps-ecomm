"use strict";$(function(){var o,i,l=$('.btn-object[data-type="articles_list"]').data("list-api"),t=$('.btn-object[data-type="articles_list"]').data("category-api"),s=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:2,i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"create_time",a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"DESC",d=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=arguments[5],s=l+"?rows="+t+"&category_id="+i+"&order_field="+e+"&order_type="+a+"&status=1",c="";$.get(s,function(t){200==t.code&&t.data&&($.each(t.data.data,function(t,i){0==d&&(c+='<div class="item small" data-type="article_list_item" data-id="'+i.id+'">',c+='<div class="image" style="background-image:url('+i.cover_300+')"></div>',c+='<div class="content">',c+='<div class="title h3 text-ellipsis-2">'+i.title+"</div>",c+='<div class="info">',i.category&&(c+='<div class="category"> '+i.category.title+"</div>"),c+='<div class="pop-info">',c+='<div class="view">',c+='    <i class="fa fa-eye" aria-hidden="true"></i> '+i.view,c+="</div>",c+="</div>",c+="</div>",c+="</div>",c+="</div>"),1==d&&(c+='<div class="item big">',c+='<div class="image"><img src="'+i.cover_400+'" /></div>',c+='<div class="content">',c+='<div class="title h3 text-ellipsis">'+i.title+"</div>",c+='<div class="description text-ellipsis">'+i.description+"</div>",c+='<div class="info">',c+='<div class="type">',c+='<div class="view">',c+='    <i class="fa fa-eye" aria-hidden="true"></i> '+i.view,c+="</div>",c+='<div class="support">',c+='   <i class="fa fa-shopping-bag" aria-hidden="true"></i> '+i.support,c+=" </div>",c+=' <div class="favorites">',c+='   <i class="fa fa-star-o" aria-hidden="true"></i> ',c+='   <span class="favorites-num">'+i.favorites+"</span>",c+="</div>",c+="</div>",c+="</div>",c+="</div>",c+="</div>")}),$(o).find(".articles-list-preview .list").html(c))})};$(".page-diy-mobile-section").on("click",'.object-item[data-type="articles_list"]',function(){if(!$(this).find(".diy-preview-controller").hasClass("show")){$(".object-item").find(".diy-preview-controller").removeClass("show"),$(this).find(".diy-preview-controller").addClass("show"),o=$(this).data("object-index"),i=$(this).data("type"),$(".page-diy-mobile-section").on("click",'[data-object-index="'+o+'"] .btn',function(){var t=$('[data-object-index="'+o+'"] input[name="rows"]').val(),i=$('[data-object-index="'+o+'"] select[name="category_id"]').val(),e=$('[data-object-index="'+o+'"] select[name="order_field"]').val(),a=$('[data-object-index="'+o+'"] select[name="order_type"]').val(),d=$('[data-object-index="'+o+'"] select[name="style"]').val();s(t,i,e,a,d,"[data-object-index="+o+"]")}),$(".page-diy-mobile-section").on("input propertychange",'[data-object-index="'+o+'"] input[name="title"]',function(){$('[data-object-index="'+o+'"] .title h3').html($(this).val())}),$(".page-diy-mobile-section").on("click",'[data-object-index="'+o+'"] .diy-preview-controller',function(t){t.stopPropagation()});var a="";$.get(t,function(t){if(t.code){var e=$('[data-object-index="'+o+'"] select[name="category_id"]').data("category-id");a=0==e?'<option value="0" selected>ALL</option>':'<option value="0">ALL</option>',$.each(t.data,function(t,i){e==i.id?a+='<option value="'+i.id+'" selected>'+i.title+"</option>":a+='<option value="'+i.id+'">'+i.title+"</option>",i._child&&$.each(i._child,function(t,i){e==i.id?a+='<option value="'+i.id+'" selected>----'+i.title+"</option>":a+='<option value="'+i.id+'">----'+i.title+"</option>"})}),$('[data-object-index="'+o+'"] select[name="category_id"]').html(a)}})}}),$(".page-diy-mobile-section .object-lists").on("click",'.btn-object[data-type="articles_list"]',function(){i=$(this).data("type");var t=$('[data-object-type="'+i+'"]').html();$(".preview-target").append(t),$(".preview-target .object-item").each(function(t){var i=$(this).data("type");$(this).attr("data-object-index",i+"-"+t),o=i+"-"+t}),s(2,0,"create_time","ASC",0,"[data-object-index="+o+"]")})});