"use strict";$(function(){var c,e,n=$('.btn-object[data-type="articles_list"]').data("list-api"),t=$('.btn-object[data-type="articles_list"]').data("category-api"),o=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:4,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"create_time",a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"DESC",d=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,c=arguments[5],o=n+"?rows="+t+"&category_id="+e+"&order_field="+i+"&order_type="+a+"&status=1",l="";$.get(o,function(t){200==t.code&&t.data&&($.each(t.data.data,function(t,e){console.log(e),0==d&&(l+='<div class="item-style0" data-type="article_list_item" data-id="'+e.id+'">',l+='<div class="image"><img src="'+e.cover_300+'" /></div>',l+='<div class="content">',l+='<div class="title h3 text-ellipsis-2">'+e.title+"</div>",l+='<div class="info">',e.category&&(l+='<div class="a-category"> '+e.category.title+"</div>"),l+="</div>",l+="</div>",l+="</div>"),1==d&&(l+='<div class="item-style1">',l+='<div class="content" style="background-image:url(\''+e.cover_400+"');\">",l+='<div class="bg"></div>',l+='<div class="title h3 text-ellipsis-2">'+e.title+"</div>",l+='<div class="info clearfix">',l+='<div class="a-category">'+e.category.title+"</div>",l+="</div>",l+="</div>",l+="</div>"),2==d&&(l+='<div class="item-style2 clearfix">',l+='<div class="title h3 text-ellipsis">'+e.title+"</div>",l+='<div class="create-time">'+e.create_time_str+"</div>",l+="</div>")}),$(c).find(".articles-list-preview .list").html(l))})};$(".page-diy-pc-section").on("click",'.object-item[data-type="articles_list"]',function(){if(!$(this).find(".diy-preview-controller").hasClass("show")){$(".object-item").find(".diy-preview-controller").removeClass("show"),$(this).find(".diy-preview-controller").addClass("show"),c=$(this).data("object-index"),e=$(this).data("type"),$(".page-diy-pc-section").on("click",'[data-object-index="'+c+'"] .btn',function(){var t=$('[data-object-index="'+c+'"] input[name="rows"]').val(),e=$('[data-object-index="'+c+'"] select[name="category_id"]').val(),i=$('[data-object-index="'+c+'"] select[name="order_field"]').val(),a=$('[data-object-index="'+c+'"] select[name="order_type"]').val(),d=$('[data-object-index="'+c+'"] select[name="style"]').val();o(t,e,i,a,d,"[data-object-index="+c+"]")}),$(".page-diy-pc-section").on("input propertychange",'[data-object-index="'+c+'"] input[name="title"]',function(){$('[data-object-index="'+c+'"] .title h3').html($(this).val())}),$(".page-diy-pc-section").on("click",'[data-object-index="'+c+'"] .diy-preview-controller',function(t){t.stopPropagation()});var a="";$.get(t,function(t){if(t.code){var i=$('[data-object-index="'+c+'"] select[name="category_id"]').data("category-id");a=0==i?'<option value="0" selected>ALL</option>':'<option value="0">ALL</option>',$.each(t.data,function(t,e){i==e.id?a+='<option value="'+e.id+'" selected>'+e.title+"</option>":a+='<option value="'+e.id+'">'+e.title+"</option>",e._child&&$.each(e._child,function(t,e){i==e.id?a+='<option value="'+e.id+'" selected>----'+e.title+"</option>":a+='<option value="'+e.id+'">----'+e.title+"</option>"})}),$('[data-object-index="'+c+'"] select[name="category_id"]').html(a)}})}}),$(".page-diy-pc-section .object-lists").on("click",'.btn-object[data-type="articles_list"]',function(){e=$(this).data("type");var t=$('[data-object-type="'+e+'"]').html();$(".preview-target").append(t),$(".preview-target .object-item").each(function(t){var e=$(this).data("type");$(this).attr("data-object-index",e+"-"+t),c=e+"-"+t}),o(4,0,"create_time","ASC",0,"[data-object-index="+c+"]")})});